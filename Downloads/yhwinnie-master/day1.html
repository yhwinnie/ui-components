<html> 
	<body style="padding: 0; margin: 0">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
			<canvas width=0 height=0 id="canvas"/>
			<script>
				var canv = $("#canvas")[0].getContext("2d")
				var numTiles = 3
				var tileSizeX = window.innerWidth/numTiles
				var tileSizeY = window.innerHeight/numTiles
				var alreadyClicked = []
				var playerTurn = 0
				var xImage = new Image()
				var oImage = new Image()
				for (var x = 0; x < numTiles; x++)
					alreadyClicked[x] = []
				$(document).on("click", function(e){
					console.log(e)
					if (alreadyClicked[Math.floor(e.clientX/tileSizeX)][Math.floor(e.clientY/tileSizeY)] != undefined)
						return 
					if (playerTurn == 0) {
						canv.fillStyle = "gray"
						canv.scale(tileSizeX/468, tileSizeY/464)
						canv.drawImage(xImage, Math.floor(e.clientX/tileSizeX)*tileSizeX/(tileSizeX/468), Math.floor(e.clientY/tileSizeY)*tileSizeY/(tileSizeY/464))
						canv.scale(1/(tileSizeX/468), 1/(tileSizeY/464))
					}
					else {
						canv.fillStyle = "blue"
						canv.scale(tileSizeX/465, tileSizeY/471)
						canv.drawImage(oImage, Math.floor(e.clientX/tileSizeX)*tileSizeX/(tileSizeX/465), Math.floor(e.clientY/tileSizeY)*tileSizeY/(tileSizeY/471))
						canv.scale(1/(tileSizeX/465), 1/(tileSizeY/471))
					}
					//canv.fillRect(Math.floor(e.clientX/tileSizeX)*tileSizeX, Math.floor(e.clientY/tileSizeY)*tileSizeY, tileSizeX, tileSizeY)

					alreadyClicked[Math.floor(e.clientX/tileSizeX)][Math.floor(e.clientY/tileSizeY)] = playerTurn

					//case 1
					for (var col = 0; col < numTiles; col++) {
						var row = 0
						while (alreadyClicked[col][row] == playerTurn) {
							row++
							if (row == numTiles && playerTurn == 0)
								return alert("Player 0 wins")
					
							if (row == numTiles && playerTurn == 1)
								return alert("Player 1 wins")
						}
					}

					//case 2
					for (var row = 0; row < numTiles; row++) {
						var col = 0
						while (alreadyClicked[col][row] == playerTurn) {
							col++
							if (col == numTiles && playerTurn == 0)
								return alert("Player 0 wins")
					
							if (col == numTiles && playerTurn == 1)
								return alert("Player 1 wins")
						}
					}

					//case 3
					var colRow = 0
					while (alreadyClicked[colRow][colRow] == playerTurn) {
						colRow++
						if (colRow == numTiles && playerTurn == 0)
							return alert("Player 0 wins")
					
						if (colRow == numTiles && playerTurn == 1)
							return alert("Player 1 wins")
						}

					//case 4
					var col = 2
					var	row = 0 
					while (alreadyClicked[col][row] == playerTurn) {
						col--
						row++
						if (col == -1 && playerTurn == 0)
							return alert("Player 0 wins")
					
						if (col == -1 && playerTurn == 1)
							return alert("Player 1 wins")
						}					
					if (playerTurn == 0)
						playerTurn = 1
					else 
						playerTurn = 0

					for (var col = 0; col < numTiles; col++) {
						for (var row = 0; row < numTiles; row++) {
							if (alreadyClicked[col][row] == undefined) 
								return 

						}
					}
					return alert("TIE GAME!")

				})

				$(document).ready(function(){
					$("#canvas").attr("width", window.innerWidth)
					$("#canvas").attr("height", window.innerHeight)
					xImage.src = "http://3.bp.blogspot.com/-wTloK9UEgxY/TbybU5m1ZZI/AAAAAAAAKTY/PaVyuT0e1tQ/s1600/bubble_letters_X.png"
					oImage.src = "https://teachers.greenville.k12.sc.us/sites/jsblack/Themes/O.png"

				})


			</script>
	</body>
	</html>